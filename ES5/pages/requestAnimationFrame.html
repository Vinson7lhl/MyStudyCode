<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>H5新特性——计时器：requestAnimationFrame</title>
    <link href="../css/style.css" rel="stylesheet" />
    <link href="../css/plugins/pluginAll.css" rel="stylesheet" /><!--加载所有插件的css-->
</head>
<body>
    <div class="requestAnimationFrame">H5计时器模块</div>
    


    <script src="../lib/jQuery/jquery-1.11.3.js"></script>
    <script>
        $(function(){
            /**
         * H5新特性——requestAnimationFrame
         */
            var raf_dom=document.getElementsByClassName("requestAnimationFrame")[0];
            var initStart=null;
            var processTime=0;
            var changeDOM=function(animationStartTime){
                console.log(animationStartTime);
                if(!initStart) initStart=animationStartTime;
                processTime=animationStartTime-initStart;
                raf_dom.style.marginLeft = Math.min(processTime / 10, 200) + 'px';
                if (processTime < 2000) {
                    requestAnimationFrame(changeDOM);
                }
            }
            window.requestAnimationFrame(changeDOM);
        });
    </script>
</body>
</html>